databaseChangeLog:
  - preConditions:
    - dbms:
        type: postgresql

  - changeSet:
      id: load.agency
      author: mhines
      runOnChange: true
      changes:
        - delete:
            tableName: agency
        - loadData:
            encoding: UTF-8
            file: agency.csv
            relativeToChangelogFile: true
            separator: ','
            quotchar: '"'
            tableName: agency
        - rollback: select 'no rollback - you must restore previous agency.csv and rerun manually' from dual

  - changeSet:
      id: load.aquifer
      author: mhines
      runOnChange: true
      changes:
        - delete:
            tableName: aquifer
        - loadData:
            encoding: UTF-8
            file: aquifer.csv
            relativeToChangelogFile: true
            separator: ','
            quotchar: '"'
            tableName: aquifer
        - rollback: select 'no rollback - you must restore previous aquifer.csv and rerun manually' from dual

  - changeSet:
      id: load.national_aquifer
      author: mhines
      runOnChange: true
      changes:
        - delete:
            tableName: national_aquifer
        - loadData:
            encoding: UTF-8
            file: national_aquifer.csv
            relativeToChangelogFile: true
            separator: ','
            quotchar: '"'
            tableName: national_aquifer
        - rollback: select 'no rollback - you must restore previous national_aquifer.csv and rerun manually' from dual

  - changeSet:
      id: load.country
      author: mhines
      runOnChange: true
      changes:
        - delete:
            tableName: country
        - loadData:
            encoding: UTF-8
            file: country.csv
            relativeToChangelogFile: true
            separator: ','
            quotchar: '"'
            tableName: country
        - rollback: select 'no rollback - you must restore previous country.csv and rerun manually' from dual

  - changeSet:
      id: load.county
      author: mhines
      runOnChange: true
      changes:
        - delete:
            tableName: county
        - loadData:
            encoding: UTF-8
            file: county.csv
            relativeToChangelogFile: true
            separator: ','
            quotchar: '"'
            tableName: county
        - rollback: select 'no rollback - you must restore previous county.csv and rerun manually' from dual
