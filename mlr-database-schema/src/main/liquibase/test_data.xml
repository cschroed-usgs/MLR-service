<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.0.xsd" logicalFilePath="liquibaseChangeSet/test_data.xml">
    <changeSet id="test_data_tag" author="kmschoep" context="test">
        <tagDatabase tag="test_data" />
    </changeSet>
    <changeSet author="kmschoep" id="test_data" context="test">
        <loadData encoding="UTF-8" file="data/activity.csv" quotchar="&quot;" separator="," tableName="activity">
            <column header="id" name="id" type="NUMERIC"/>
            <column header="activity_timestamp" name="activity_timestamp" type="DATE"/>
            <column header="itemid" name="itemid" type="STRING"/>
            <column header="type" name="type" type="NUMERIC"/>
        </loadData>
        <rollback>
            <delete tableName="tinygov" />
            <delete tableName="service_item" />
            <delete tableName="session_item" />
            <delete tableName="session_table" />
            <delete tableName="aggregation_children" />
            <delete tableName="item" />
            <delete tableName="summary" />
            <delete tableName="full_publications" />
            <delete tableName="full_summary" />
            <delete tableName="authorized_users" />
            <delete tableName="center" />
            <delete tableName="bbox" />
            <delete tableName="activity" />
            <delete tableName="service" />
            <delete tableName="displayed_children" />
        </rollback>
    </changeSet>
    <changeSet author="jiwalker" id="add_large_sequence_start">
        <dropSequence sequenceName="hibernate_sequence" />
        <createSequence sequenceName="hibernate_sequence" startValue="10000" />
        <rollback>
            <comment>This should be fine as long as the test_data doesn't have values > 10000</comment>
        </rollback>
    </changeSet>
</databaseChangeLog>
